@model DoctorViewModel

<h2>Add New Doctor</h2>

<form asp-action="Add" method="post" class="form-horizontal">
    
    <h4>Personal Information</h4>
    <div class="form-group">
        <label>FirstName</label>
        <input asp-for="FirstName" class="form-control" />
    </div>
     <div class="form-group">
        <label>LastName</label>
        <input asp-for="LastName" class="form-control" />
    </div>
    <div class="form-group">
        <label>Email</label>
        <input asp-for="Email" type="email" class="form-control" />
    </div>
    <div class="form-group">
        <label>Password</label>
        <input asp-for="Password" type="password" class="form-control" />
    </div>
   

    <hr />

    <h4>Professional Details</h4>
    <div class="form-group">
        <label>Specialization</label>
        <input asp-for="Specialization" class="form-control" />
    </div>
    <div class="form-group">
        <label>Department</label>
        <input asp-for="Department" class="form-control" />
    </div>
    <div class="form-group">
        <label>Years of Experience</label>
        <input asp-for="YearsOfExperience" type="number" class="form-control" />
    </div>

    <hr />

<h4>Work Schedules</h4>
    
    <table class="table" id="scheduleTable">
        <thead>
            <tr>
                <th>Day</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th></th>
            </tr>
        </thead>
        <tbody id="scheduleBody">
            </tbody>
    </table>

    <button type="button" class="btn btn-secondary" onclick="addScheduleRow()">+ Add Shift</button>
    
    <hr />

<script>
    let index = 0;

    function addScheduleRow() {
        const tableBody = document.getElementById("scheduleBody");
        const row = `
            <tr>
                <td>
                    <select name="Schedules[${index}].Day" class="form-control">
                        <option>Saturday</option>
                        <option>Sunday</option>
                        <option>Monday</option>
                        <option>Tuesday</option>
                        <option>Wednesday</option>
                        <option>Thursday</option>
                        <option>Friday</option>
                    </select>
                </td>
                <td>
                    <input type="time" name="Schedules[${index}].StartTime" class="form-control" />
                </td>
                <td>
                    <input type="time" name="Schedules[${index}].EndTime" class="form-control" />
                </td>
                <td>
                    <button type="button" class="btn btn-danger btn-sm" onclick="removeRow(this)">Remove</button>
                </td>
            </tr>
        `;

        tableBody.insertAdjacentHTML('beforeend', row);
        
        index++;
    }
    
    function removeRow(btn) {
        // حذف السطر
        var row = btn.closest('tr');
        row.remove();
       
    }

    document.addEventListener("DOMContentLoaded", function() {
        addScheduleRow();
    });
</script>

    <br />
    <button type="submit" class="btn btn-primary">Save Doctor</button>
</form>